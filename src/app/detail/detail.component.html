<section class="cart" *ngIf="cartShowing" (click)="toggleDisplayCart($event)">
	<div class="cart_inner">
		<h2>{{ shop.name }}</h2>
		<div class="cart_inner_wrapper" *ngIf="generalService.cart[id]">
			<div class="cart_inner_products">
				<table>
					<thead>
						<tr>
							<td class="td_product">Product</td>
							<td class="td_amount">#</td>
							<td class="td_price">Prijs</td>
							<td></td>
						</tr>
					</thead>
					<tbody>
						<tr class="tr_product" *ngFor="let product of generalService.cart[id].products">
							<td class="td_product"><p>{{ product.product_name }}</p></td>
							<td class="td_amount"><p>{{ shop.type.toLowerCase() == 'bakkerij' ? product.amount : product.amount + ' g' }}</p></td>
							<td class="td_price"><p>{{ product.total_price | currency:'EUR':true:'1.2-2' }}</p></td>
							<td class="td_remove"><a class="btn_remove" (click)="removeItem( product.id, product.total_price )"><img src="assets/img/garbage.svg" alt=""></a></td>
						</tr>
					</tbody>
				</table>
				<!--<ul>
					<li *ngFor=" let product of generalService.cart[id].products ">
						<div class="cart_inner_products_name">
							<h4>{{ product.product_name }}</h4>
						</div>
						<div class="cart_inner_products_info">
							<p>Aantal: {{ product.amount }}</p>
							<p>Prijs: {{ product.total_price | currency:'EUR':true:'1.2-2' }}</p>
						</div>
					</li>
				</ul>-->
			</div>
			<div class="summary">
				<form>
					<button type="button" (click)="placeOrder()" class="btn_action">Plaats bestelling: {{ generalService.cart[ id ].total_price | currency:'EUR':true:'1.2-2' }}</button>
				</form>
			</div>
		</div>
		<div class="no_products" *ngIf="!generalService.cart[id]">
			<p>Er zitten nog geen producten in je winkelkarretje!</p>
			<button (click)="toggleDisplayCart($event)" class="btn_action_shadow cart_close">Sluiten</button>
		</div>
	</div>
</section>


<section class="detail-top" *ngIf="shop">
	<div class="container">
		<div class="info">
			<h1>{{ shop.name }}</h1>
			<div class="more_details">
				<div class="h4_black_bg">
					<div>
						<span class="tag_label"></span>
						<h4>{{ shop.type }}</h4>
					</div>
				</div>
				<div class="h4_black_bg">
					<div>
						<span class="tag_pin"></span>
						<h4>{{ shop.street + " " + shop.number + ', ' + shop.city }}</h4>
					</div>
				</div>
			</div>
		</div>

		<div class="cart_button">
			<div class="round">
				<a (click)="toggleDisplayCart($event)" class="btn_cart">
					<svg width="100px" height="100px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
						<text class="svg_text" x='39' y ='45' fill="white">
							{{ generalService.cart[id] && generalService.cart[id].total_products ? generalService.cart[id].total_products : 0 }}
						</text>
					    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					        <g transform="translate(-910.000000, -1250.000000)" fill-rule="nonzero" fill="#FFFFFF">
					            <g transform="translate(0.000000, 1100.000000)">
					                <g>
					                    <g transform="translate(710.000000, 50.000000)">
					                        <g transform="translate(200.000000, 100.000000)">
					                            <path d="M67.6652893,82.6310798 C62.9338843,82.6310798 59.2561983,86.4517003 59.2561983,91.1055413 C59.2561983,95.7593822 63.1404959,99.5800027 67.6652893,99.5800027 C72.1900826,99.5800027 76.0743802,95.7593822 76.0743802,91.1055413 C76.0743802,86.4517003 72.1900826,82.6310798 67.6652893,82.6310798 Z M67.6652893,95.3326108 C65.2892562,95.3326108 63.5743802,93.4223005 63.5743802,91.0852188 C63.5743802,88.7481371 65.5165289,86.8378269 67.6652893,86.8378269 C69.8140496,86.8378269 71.7561983,88.7481371 71.7561983,91.0852188 C71.7561983,93.4223005 69.8140496,95.3326108 67.6652893,95.3326108 Z" id="Shape"></path>
					                            <path d="M21.7768595,82.6310798 C17.0454545,82.6310798 13.3677686,86.4517003 13.3677686,91.1055413 C13.3677686,95.7593822 17.2520661,99.5800027 21.7768595,99.5800027 C26.5082645,99.5800027 30.1859504,95.7593822 30.1859504,91.1055413 C30.1859504,86.4517003 26.3016529,82.6310798 21.7768595,82.6310798 L21.7768595,82.6310798 Z M21.7768595,95.3326108 C19.4008264,95.3326108 17.6859504,93.4223005 17.6859504,91.0852188 C17.6859504,88.7481371 19.6280992,86.8378269 21.7768595,86.8378269 C24.1528926,86.8378269 25.8677686,88.7481371 25.8677686,91.0852188 C25.8677686,93.442623 23.946281,95.3326108 21.7768595,95.3326108 L21.7768595,95.3326108 Z" id="Shape"></path>
					                            <path d="M87.9132231,0 L84.5661157,12.9250779 L0.020661157,12.9250779 L15.6198347,58.3863975 C10.392562,59.1383281 6.48760331,63.4873323 6.48760331,69.076006 C6.48760331,75.2133857 11.2190083,80.0907736 17.2520661,80.0907736 L75.8471074,80.0907736 L75.8471074,76.0669286 L17.2520661,76.0669286 C13.5950413,76.0669286 10.785124,73.099851 10.785124,69.2792305 C10.785124,65.4586099 13.8016529,62.4915323 17.2520661,62.4915323 L75.8471074,62.4915323 L76.053719,62.4915323 L91.3429752,4.2270695 L99.9586777,4.2270695 L99.9586777,2.16599533e-15 L87.9132231,2.16599533e-15 L87.9132231,0 Z M72.8305785,58.2644628 L20.0619835,58.2644628 L6.05371901,17.1521474 L83.3884298,17.1521474 L72.8305785,58.2644628 Z" id="Shape"></path>
					                        </g>
					                    </g>
					                </g>
					            </g>
					        </g>
					    </g>
					</svg>
					<p>{{ ( generalService.cart[id] && generalService.cart[id].total_price ? generalService.cart[id].total_price : 0 ) | currency:'EUR':true:'1.2-2' }}</p>
				</a>	
			</div>
		</div>
	</div>
</section>
<section class="detail-middle" *ngIf="shop">
	<a (click)="toggleDisplayCategory()"><p>Categorieën</p></a>
</section>

<section class="detail-bottom" *ngIf="shop && products">
	<div class="info">
		<p>Geef Je gewesten gewicht of aantal stuks in, het bedrag verschijnt dan in de knop ernaast. Druk op de knop om het product aan je winkelkarretje toe te voegen!</p>
		<p><span class="alert_text_color">Opgelet!</span> Het maximum bedrag per winkel bedraagt €50, het maximum aantal producten per winkel is 15 producten!</p>
	</div>
	<div class="container">
		<category-component (catChange)="selectCategory($event)" [categories]="categories"></category-component>
		<div class="category_container" *ngFor="let category of categories" [hidden]="categorySelected != category">
			<div class="products" >
				<h2>{{ category }}</h2>
				<product-component *ngFor="let product of products" [hidden]="product.category != category" [type]="shop.type" [product]="product"></product-component>
			</div>
		</div>
	</div>
</section>

<div class="select_category_container" *ngIf="categorySelecting">	
	<p>Selecteer een categorie:</p>
	<ul>
		<li (click)="selectCategory( category )" *ngFor="let category of categories">
			{{ category }}
		</li>
	</ul>
</div>

<div class="cart_bar" (click)="toggleDisplayCart($event)">
	<div class="cart_bar_inner">
		<div class="amount">
			<p>{{ generalService.cart[id] && generalService.cart[id].total_products ? generalService.cart[id].total_products : 0 }}</p>
			<svg width="100px" height="100px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
					    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					        <g transform="translate(-910.000000, -1250.000000)" fill-rule="nonzero" fill="#FFFFFF">
					            <g transform="translate(0.000000, 1100.000000)">
					                <g>
					                    <g transform="translate(710.000000, 50.000000)">
					                        <g transform="translate(200.000000, 100.000000)">
					                            <path d="M67.6652893,82.6310798 C62.9338843,82.6310798 59.2561983,86.4517003 59.2561983,91.1055413 C59.2561983,95.7593822 63.1404959,99.5800027 67.6652893,99.5800027 C72.1900826,99.5800027 76.0743802,95.7593822 76.0743802,91.1055413 C76.0743802,86.4517003 72.1900826,82.6310798 67.6652893,82.6310798 Z M67.6652893,95.3326108 C65.2892562,95.3326108 63.5743802,93.4223005 63.5743802,91.0852188 C63.5743802,88.7481371 65.5165289,86.8378269 67.6652893,86.8378269 C69.8140496,86.8378269 71.7561983,88.7481371 71.7561983,91.0852188 C71.7561983,93.4223005 69.8140496,95.3326108 67.6652893,95.3326108 Z" id="Shape"></path>
					                            <path d="M21.7768595,82.6310798 C17.0454545,82.6310798 13.3677686,86.4517003 13.3677686,91.1055413 C13.3677686,95.7593822 17.2520661,99.5800027 21.7768595,99.5800027 C26.5082645,99.5800027 30.1859504,95.7593822 30.1859504,91.1055413 C30.1859504,86.4517003 26.3016529,82.6310798 21.7768595,82.6310798 L21.7768595,82.6310798 Z M21.7768595,95.3326108 C19.4008264,95.3326108 17.6859504,93.4223005 17.6859504,91.0852188 C17.6859504,88.7481371 19.6280992,86.8378269 21.7768595,86.8378269 C24.1528926,86.8378269 25.8677686,88.7481371 25.8677686,91.0852188 C25.8677686,93.442623 23.946281,95.3326108 21.7768595,95.3326108 L21.7768595,95.3326108 Z" id="Shape"></path>
					                            <path d="M87.9132231,0 L84.5661157,12.9250779 L0.020661157,12.9250779 L15.6198347,58.3863975 C10.392562,59.1383281 6.48760331,63.4873323 6.48760331,69.076006 C6.48760331,75.2133857 11.2190083,80.0907736 17.2520661,80.0907736 L75.8471074,80.0907736 L75.8471074,76.0669286 L17.2520661,76.0669286 C13.5950413,76.0669286 10.785124,73.099851 10.785124,69.2792305 C10.785124,65.4586099 13.8016529,62.4915323 17.2520661,62.4915323 L75.8471074,62.4915323 L76.053719,62.4915323 L91.3429752,4.2270695 L99.9586777,4.2270695 L99.9586777,2.16599533e-15 L87.9132231,2.16599533e-15 L87.9132231,0 Z M72.8305785,58.2644628 L20.0619835,58.2644628 L6.05371901,17.1521474 L83.3884298,17.1521474 L72.8305785,58.2644628 Z" id="Shape"></path>
					                        </g>
					                    </g>
					                </g>
					            </g>
					        </g>
					    </g>
			</svg>
		</div>
		<div class="price">
			<p>{{ ( generalService.cart[id] && generalService.cart[id].total_price ? generalService.cart[id].total_price : 0 ) | currency:'EUR':true:'1.2-2' }}</p>
		</div>
	</div>
</div>




<div class="warning" *ngIf="generalService.maxProducts || generalService.maxPrice">
	<p *ngIf="generalService.maxProducts">Je hebt het maximum aantal producten bereikt! Voor grotere bestellingen contacteer je de winkel via e-mail of telefoon.</p>
	<p *ngIf="generalService.maxPrice">Je hebt het maximum aantal producten bereikt! Voor grotere bestellingen contacteer je de winkel via e-mail of telefoon.</p>
</div>